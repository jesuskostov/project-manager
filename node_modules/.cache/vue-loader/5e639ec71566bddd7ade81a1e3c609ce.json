{"remainingRequest":"/home/jesuskostov/Desktop/willUse/project-manager/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/jesuskostov/Desktop/willUse/project-manager/src/views/Home.vue?vue&type=style&index=0&id=fae5bece&lang=scss&scoped=true&","dependencies":[{"path":"/home/jesuskostov/Desktop/willUse/project-manager/src/views/Home.vue","mtime":1610368534654},{"path":"/home/jesuskostov/Desktop/willUse/project-manager/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/jesuskostov/Desktop/willUse/project-manager/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/home/jesuskostov/Desktop/willUse/project-manager/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/home/jesuskostov/Desktop/willUse/project-manager/node_modules/sass-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/jesuskostov/Desktop/willUse/project-manager/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/jesuskostov/Desktop/willUse/project-manager/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoubmF2LWl0ZW0gewogIGN1cnNvcjogcG9pbnRlcjsKfQouY2FyZCB7CiAgJi5ib3JkZXItdG9wLW5vbmUgewogICAgYm9yZGVyLXRvcDogMDsKICAgIGhlaWdodDogNzBweDsKICAgIGJhY2tncm91bmQtY29sb3I6ICM2Nzc3ZWY7CiAgICBkaXNwbGF5OiBmbGV4OwogICAgZmxleC1kaXJlY3Rpb246IHJvdzsKICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKCiAgICBoMSB7CiAgICAgIGNvbG9yOiAjZmZmOwogICAgICBmb250LXNpemU6IDE4cHg7CiAgICAgIG1hcmdpbjogMDsKICAgIH0KICAgICYud29ya2luZyB7CiAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmE0MjY7CiAgICB9CiAgfQp9Cgo="},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Home.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div>\n      <div class=\"container\">\n        <div class=\"row\">\n          <div class=\"col-md-12 mt-5\">\n            <div v-if=\"!workOnName\" class=\"card border-top-none\">\n              <h1>Здравей, в момента не работиш върху нищо</h1>\n            </div>\n            <div v-if=\"workOnName\" class=\"card working border-top-none working alert-warning\">\n              <h1>В момента работиш върху - {{workOnName}}</h1>\n            </div>\n          </div>\n        </div>\n        <div class=\"row\">\n          <div class=\"col-md-3\">\n            <!-- Profile -->\n            <div class=\"card profile-widget\">\n              <div class=\"profile-widget-header\">\n                <img alt=\"image\" :src=\"user.image\" class=\"rounded-circle profile-widget-picture ml-3\">\n                <div class=\"profile-widget-items\">\n                  <div class=\"profile-widget-item\">\n                    <div class=\"profile-widget-item-label\">Проекти</div>\n                    <div class=\"profile-widget-item-value\">187</div>\n                  </div>\n                  <!-- <div class=\"profile-widget-item\">\n                    <div class=\"profile-widget-item-label\">Following</div>\n                    <div class=\"profile-widget-item-value\">2,1K</div>\n                  </div> -->\n                </div>\n              </div>\n              <div class=\"profile-widget-description pt-2 pb-0\">\n                <div class=\"profile-widget-name text-left\">{{user.name}} {{user.last_name}}</div>\n              </div>\n            </div>\n            <!-- Profile END -->\n            <!-- Options -->\n              <div class=\"card\">\n                  <div class=\"card-header\">\n                    <h4>Опции</h4>\n                  </div>\n                  <div class=\"card-body\">\n                    <ul class=\"nav nav-pills flex-column\">\n                      <li @click=\"ProjectCreate = false, home = true, opened = false\" class=\"text-left nav-item\"><a href=\"#\" class=\"nav-link\" :class=\"{'active': home}\" >Начало</a></li>\n                      <li @click=\"ProjectCreate = true, home = false, opened = false\" class=\"text-left nav-item\"><a :class=\"{'active': ProjectCreate}\" class=\"nav-link\">Добави нова проект</a></li>\n                      <li class=\"text-left nav-item\"><a href=\"#\" class=\"nav-link\">Настройки на профила</a></li>\n                    </ul>\n                  </div>\n              </div>\n            <!-- Options END -->\n          </div>\n          <div class=\"col-md-9\" style=\"padding-top: 33px\">\n\n            <div v-if=\"home\" class=\"projects\">\n              <div class=\"row\">\n                <div v-for=\"(project, i) in projects\" :key=\"i\" class=\"col-md-6\">\n                  <div class=\"card card-primary\">\n                    <div class=\"card-header\">\n                      <h4>{{project.name}}</h4>\n                      <div class=\"card-header-action\">\n                        <button @click=\"projectID = i, opened = true, home = false\" class=\"btn btn-primary\">\n                          Отвори\n                        </button>\n                      </div>\n                    </div>\n                    <div class=\"card-body text-left\">\n                      <p>{{project.description}}</p>\n                      <!-- Progress -->\n                      <Progress :tasks=\"project.tasks\"/>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            <ProjectCreate v-if=\"ProjectCreate\" />\n\n            <Project v-if=\"opened\" :id=\"projectID\" :workingID=\"workOnID\" :workStatus=\"workStatus\"/>\n\n          </div>\n        </div>\n      </div>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios'\nimport { fb } from '../firebase'\nimport { bus } from '../main'\nimport ProjectCreate from '../components/HelloWorld.vue'\nimport Project from '../components/Project.vue'\nimport Progress from '../components/Progress.vue'\n\nexport default {\n  components: {\n    ProjectCreate,\n    Project,\n    Progress\n  },\n  data() {\n    return {\n      workOnID: null,\n      workStatus: null,\n      workOnName: '',\n      projectID: '',\n      userID: '',\n      user: '',\n      home: true,\n      ProjectCreate: false,\n      settings: false,\n      projects: '',\n      opened: false,\n    }\n  },\n  computed: {\n    status() {\n      return this.$store.state.status\n    }\n  },\n  watch: {\n    async status() {\n\n      let status = this.status.status\n      let projectID = this.status.projectID\n\n      if (status == 'start') {\n        let res = await axios.get(`https://manager-47e61-default-rtdb.firebaseio.com/projects/${projectID}.json`);\n        this.workOnName = res.data.name\n        this.workOnID = this.status.projectID\n        this.workStatus = status\n      } else if (status == 'pause') {\n        this.workOnName = ''\n        this.workOnID = null\n        this.workStatus = status\n      } else if (status == 'finished') {\n        let finished = []\n        finished.push(projectID)\n        console.log(finished);\n      }\n\n    }\n  },\n  methods: {\n    async userInfo() {\n      let res = await axios.get(`https://manager-47e61-default-rtdb.firebaseio.com/users/${this.userID}.json`)\n      this.user = res.data\n    },\n    async fetchProjects() {\n      let res = await axios.get(`https://manager-47e61-default-rtdb.firebaseio.com/projects.json`)\n      this.projects = res.data\n      this.ProjectCreate = false\n      this.home = true\n    },\n    async showProjects() {\n      let res = await axios.get(`https://manager-47e61-default-rtdb.firebaseio.com/projects.json`)\n      this.projects = res.data\n    }\n  },\n  async created() {\n    await fb.auth().onAuthStateChanged( user => {\n      if (user) {\n        this.userID = user.uid\n        this.userInfo();\n      }\n    })\n    bus.$on('update', () => {this.fetchProjects()})\n    bus.$on('reload', () => {this.showProjects()})\n    this.fetchProjects();\n\n  },\n\n  // Predpolagam shte izlezesh s nqkoe momche i shte mi kajesh\n  // I az shte te pitam kak e minalo i ti shte mi otgovorish 'mi normalno'\n  // Az shte te pitam shte izl li pak s nego i ti shte mi kajesh 'mi nz'\n  // Tova go napisax na 10 qnuari  v 23:41\n\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.nav-item {\n  cursor: pointer;\n}\n.card {\n  &.border-top-none {\n    border-top: 0;\n    height: 70px;\n    background-color: #6777ef;\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: center;\n\n    h1 {\n      color: #fff;\n      font-size: 18px;\n      margin: 0;\n    }\n    &.working {\n      background-color: #ffa426;\n    }\n  }\n}\n\n</style>"]}]}