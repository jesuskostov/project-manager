{"remainingRequest":"/home/jesuskostov/Desktop/willUse/project-manager/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/jesuskostov/Desktop/willUse/project-manager/src/components/Project.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/jesuskostov/Desktop/willUse/project-manager/src/components/Project.vue","mtime":1610368330596},{"path":"/home/jesuskostov/Desktop/willUse/project-manager/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/jesuskostov/Desktop/willUse/project-manager/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/jesuskostov/Desktop/willUse/project-manager/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/jesuskostov/Desktop/willUse/project-manager/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGJ1cyB9IGZyb20gJy4uL21haW4nCgpleHBvcnQgZGVmYXVsdCB7CiAgICBuYW1lOiAncHJvamVjdCcsCiAgICBwcm9wczogWydpZCcsICd3b3JraW5nSUQnLCAnd29ya1N0YXR1cyddLAogICAgZGF0YSgpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICBzdGF0dXNWYWx1ZTogdGhpcy53b3JrU3RhdHVzCiAgICAgICAgfQogICAgfSwKICAgIGNvbXB1dGVkOiB7CiAgICAgICAgcHJvamVjdCgpIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLnByb2plY3QKICAgICAgICB9LAogICAgICAgIHRhc2tzKCkgewogICAgICAgICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUucHJvamVjdC50YXNrcy5tYXAoIHRhc2sgPT4gewogICAgICAgICAgICAgICAgcmV0dXJuIHRhc2sucHJvZ3Jlc3MKICAgICAgICAgICAgfSkKICAgICAgICB9LAogICAgfSwKICAgIHdhdGNoOiB7CiAgICAgICAgJ3Rhc2tzJzogewogICAgICAgICAgICBoYW5kbGVyOiBmdW5jdGlvbiAodmFsLCBvbGRWYWwpIHsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHZhbCk7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhvbGRWYWwpOwogICAgICAgICAgICAgICAgYnVzLiRlbWl0KCdyZWxvYWQnKQogICAgICAgICAgICB9LAogICAgICAgIH0KICAgIH0sCiAgICBtZXRob2RzOiB7CiAgICAgICAgc3RhdHVzKCkgewogICAgICAgICAgICBsZXQgcHJvamVjdElEID0gdGhpcy5pZAogICAgICAgICAgICBsZXQgc3RhdHVzID0gdGhpcy5zdGF0dXNWYWx1ZQoKICAgICAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ3dvcmtpbmdTdGF0dXMnLCB7cHJvamVjdElELCBzdGF0dXN9KQogICAgICAgIH0sCiAgICAgICAgY29tcGxldGUobmFtZSwgaSkgewogICAgICAgICAgICBsZXQgcHJvamVjdElEID0gdGhpcy5pZAogICAgICAgICAgICBsZXQgdGFza0lEID0gaQogICAgICAgICAgICBsZXQgdGFza05hbWUgPSBuYW1lCiAgICAgICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdjb21wbGV0ZVRhc2snLCB7cHJvamVjdElELCB0YXNrSUQsIHRhc2tOYW1lfSkKICAgICAgICB9CiAgICB9LAogICAgYXN5bmMgY3JlYXRlZCgpIHsKICAgICAgICBsZXQgcHJvamVjdElEID0gdGhpcy5pZAogICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdnZXRQcm9qZWN0JywgcHJvamVjdElEKQogICAgICAgIGNvbnNvbGUubG9nKHRoaXMud29ya2luZ0lEKTsKICAgICAgICBjb25zb2xlLmxvZygxMjMpOwogICAgfQp9Cg=="},{"version":3,"sources":["Project.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8BA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Project.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <div class=\"card\">\n        <div class=\"card-header\">\n            <h4>{{project.name}}</h4>\n            <div class=\"status\">\n                <select v-if=\"workingID == id || workingID == null\" class=\"form-control selectric\" v-model=\"statusValue\" @change=\"status()\">\n                    <option value=\"start\">Старт</option>\n                    <option value=\"pause\">Пауза</option>\n                    <option value=\"finished\">Завършено</option>\n                </select>\n            </div>\n            </div>\n            <div class=\"card-body text-left\">\n            <p>{{project.description}}</p>\n            <div v-for=\"(task, i) in project.tasks\" :key=\"i\" class=\"alert alert-primary\" :class=\"{'blur': workingID != id}\">\n                <span @click=\"complete(task.name, i)\" class=\"checkbox\">\n                    <div v-if=\"task.progress\" class=\"check\">\n                        <svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" viewBox=\"0 0 76.887 55.552\" style=\"enable-background:new 0 0 76.887 55.552;\" xml:space=\"preserve\">\n                            <polygon style=\"fill:#fff;\" points=\"34.373,49.541 76.887,5.889 70.739,0 28.426,43.458 6.078,20.632 0,26.585 22.488,49.557 \n                                22.488,49.557 28.517,55.552 28.426,55.467 28.517,55.552 34.373,49.541 \t\"/>\n                        </svg>\n                    </div>\n                </span>\n                <p>{{task.name}}</p>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport { bus } from '../main'\n\nexport default {\n    name: 'project',\n    props: ['id', 'workingID', 'workStatus'],\n    data() {\n        return {\n            statusValue: this.workStatus\n        }\n    },\n    computed: {\n        project() {\n            return this.$store.state.project\n        },\n        tasks() {\n            return this.$store.state.project.tasks.map( task => {\n                return task.progress\n            })\n        },\n    },\n    watch: {\n        'tasks': {\n            handler: function (val, oldVal) {\n                console.log(val);\n                console.log(oldVal);\n                bus.$emit('reload')\n            },\n        }\n    },\n    methods: {\n        status() {\n            let projectID = this.id\n            let status = this.statusValue\n\n            this.$store.dispatch('workingStatus', {projectID, status})\n        },\n        complete(name, i) {\n            let projectID = this.id\n            let taskID = i\n            let taskName = name\n            this.$store.dispatch('completeTask', {projectID, taskID, taskName})\n        }\n    },\n    async created() {\n        let projectID = this.id\n        this.$store.dispatch('getProject', projectID)\n        console.log(this.workingID);\n        console.log(123);\n    }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.alert {\n    transition: 1s;\n}\n.blur {\n    filter: blur(2px);\n    pointer-events: none;\n    transition: 1s;\n}\n.card-header {\n\n    .status {\n        width: 200px;\n        margin-left: auto;\n\n        .form-control {\n            border-radius: 3px;\n        }\n    }\n}\n\n.alert {\n    display: flex;\n    align-items: center;\n    margin-bottom: 5px;\n    p {\n        color: #fff;\n    }\n}\n.checkbox {\n    position: relative;\n    display: inline-block;\n    width: 22px;\n    height: 22px;\n    margin-right: 12px;\n    border-radius: 99999999px;\n    background-color: #fff;\n    cursor: pointer;\n    overflow: hidden;\n    border: 1px solid #fff;\n}\n\n.check {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    background-color: #47c363;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    svg {\n        width: 12px;\n    }\n}\n</style>"]}]}