{"remainingRequest":"/home/jesuskostov/Desktop/willUse/project-manager/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/jesuskostov/Desktop/willUse/project-manager/src/views/Home.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/jesuskostov/Desktop/willUse/project-manager/src/views/Home.vue","mtime":1610368534654},{"path":"/home/jesuskostov/Desktop/willUse/project-manager/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/jesuskostov/Desktop/willUse/project-manager/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/jesuskostov/Desktop/willUse/project-manager/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/jesuskostov/Desktop/willUse/project-manager/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICdheGlvcycKaW1wb3J0IHsgZmIgfSBmcm9tICcuLi9maXJlYmFzZScKaW1wb3J0IHsgYnVzIH0gZnJvbSAnLi4vbWFpbicKaW1wb3J0IFByb2plY3RDcmVhdGUgZnJvbSAnLi4vY29tcG9uZW50cy9IZWxsb1dvcmxkLnZ1ZScKaW1wb3J0IFByb2plY3QgZnJvbSAnLi4vY29tcG9uZW50cy9Qcm9qZWN0LnZ1ZScKaW1wb3J0IFByb2dyZXNzIGZyb20gJy4uL2NvbXBvbmVudHMvUHJvZ3Jlc3MudnVlJwoKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIFByb2plY3RDcmVhdGUsCiAgICBQcm9qZWN0LAogICAgUHJvZ3Jlc3MKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB3b3JrT25JRDogbnVsbCwKICAgICAgd29ya1N0YXR1czogbnVsbCwKICAgICAgd29ya09uTmFtZTogJycsCiAgICAgIHByb2plY3RJRDogJycsCiAgICAgIHVzZXJJRDogJycsCiAgICAgIHVzZXI6ICcnLAogICAgICBob21lOiB0cnVlLAogICAgICBQcm9qZWN0Q3JlYXRlOiBmYWxzZSwKICAgICAgc2V0dGluZ3M6IGZhbHNlLAogICAgICBwcm9qZWN0czogJycsCiAgICAgIG9wZW5lZDogZmFsc2UsCiAgICB9CiAgfSwKICBjb21wdXRlZDogewogICAgc3RhdHVzKCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUuc3RhdHVzCiAgICB9CiAgfSwKICB3YXRjaDogewogICAgYXN5bmMgc3RhdHVzKCkgewoKICAgICAgbGV0IHN0YXR1cyA9IHRoaXMuc3RhdHVzLnN0YXR1cwogICAgICBsZXQgcHJvamVjdElEID0gdGhpcy5zdGF0dXMucHJvamVjdElECgogICAgICBpZiAoc3RhdHVzID09ICdzdGFydCcpIHsKICAgICAgICBsZXQgcmVzID0gYXdhaXQgYXhpb3MuZ2V0KGBodHRwczovL21hbmFnZXItNDdlNjEtZGVmYXVsdC1ydGRiLmZpcmViYXNlaW8uY29tL3Byb2plY3RzLyR7cHJvamVjdElEfS5qc29uYCk7CiAgICAgICAgdGhpcy53b3JrT25OYW1lID0gcmVzLmRhdGEubmFtZQogICAgICAgIHRoaXMud29ya09uSUQgPSB0aGlzLnN0YXR1cy5wcm9qZWN0SUQKICAgICAgICB0aGlzLndvcmtTdGF0dXMgPSBzdGF0dXMKICAgICAgfSBlbHNlIGlmIChzdGF0dXMgPT0gJ3BhdXNlJykgewogICAgICAgIHRoaXMud29ya09uTmFtZSA9ICcnCiAgICAgICAgdGhpcy53b3JrT25JRCA9IG51bGwKICAgICAgICB0aGlzLndvcmtTdGF0dXMgPSBzdGF0dXMKICAgICAgfSBlbHNlIGlmIChzdGF0dXMgPT0gJ2ZpbmlzaGVkJykgewogICAgICAgIGxldCBmaW5pc2hlZCA9IFtdCiAgICAgICAgZmluaXNoZWQucHVzaChwcm9qZWN0SUQpCiAgICAgICAgY29uc29sZS5sb2coZmluaXNoZWQpOwogICAgICB9CgogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgYXN5bmMgdXNlckluZm8oKSB7CiAgICAgIGxldCByZXMgPSBhd2FpdCBheGlvcy5nZXQoYGh0dHBzOi8vbWFuYWdlci00N2U2MS1kZWZhdWx0LXJ0ZGIuZmlyZWJhc2Vpby5jb20vdXNlcnMvJHt0aGlzLnVzZXJJRH0uanNvbmApCiAgICAgIHRoaXMudXNlciA9IHJlcy5kYXRhCiAgICB9LAogICAgYXN5bmMgZmV0Y2hQcm9qZWN0cygpIHsKICAgICAgbGV0IHJlcyA9IGF3YWl0IGF4aW9zLmdldChgaHR0cHM6Ly9tYW5hZ2VyLTQ3ZTYxLWRlZmF1bHQtcnRkYi5maXJlYmFzZWlvLmNvbS9wcm9qZWN0cy5qc29uYCkKICAgICAgdGhpcy5wcm9qZWN0cyA9IHJlcy5kYXRhCiAgICAgIHRoaXMuUHJvamVjdENyZWF0ZSA9IGZhbHNlCiAgICAgIHRoaXMuaG9tZSA9IHRydWUKICAgIH0sCiAgICBhc3luYyBzaG93UHJvamVjdHMoKSB7CiAgICAgIGxldCByZXMgPSBhd2FpdCBheGlvcy5nZXQoYGh0dHBzOi8vbWFuYWdlci00N2U2MS1kZWZhdWx0LXJ0ZGIuZmlyZWJhc2Vpby5jb20vcHJvamVjdHMuanNvbmApCiAgICAgIHRoaXMucHJvamVjdHMgPSByZXMuZGF0YQogICAgfQogIH0sCiAgYXN5bmMgY3JlYXRlZCgpIHsKICAgIGF3YWl0IGZiLmF1dGgoKS5vbkF1dGhTdGF0ZUNoYW5nZWQoIHVzZXIgPT4gewogICAgICBpZiAodXNlcikgewogICAgICAgIHRoaXMudXNlcklEID0gdXNlci51aWQKICAgICAgICB0aGlzLnVzZXJJbmZvKCk7CiAgICAgIH0KICAgIH0pCiAgICBidXMuJG9uKCd1cGRhdGUnLCAoKSA9PiB7dGhpcy5mZXRjaFByb2plY3RzKCl9KQogICAgYnVzLiRvbigncmVsb2FkJywgKCkgPT4ge3RoaXMuc2hvd1Byb2plY3RzKCl9KQogICAgdGhpcy5mZXRjaFByb2plY3RzKCk7CgogIH0sCgogIC8vIFByZWRwb2xhZ2FtIHNodGUgaXpsZXplc2ggcyBucWtvZSBtb21jaGUgaSBzaHRlIG1pIGthamVzaAogIC8vIEkgYXogc2h0ZSB0ZSBwaXRhbSBrYWsgZSBtaW5hbG8gaSB0aSBzaHRlIG1pIG90Z292b3Jpc2ggJ21pIG5vcm1hbG5vJwogIC8vIEF6IHNodGUgdGUgcGl0YW0gc2h0ZSBpemwgbGkgcGFrIHMgbmVnbyBpIHRpIHNodGUgbWkga2FqZXNoICdtaSBueicKICAvLyBUb3ZhIGdvIG5hcGlzYXggbmEgMTAgcW51YXJpICB2IDIzOjQxCgp9Cg=="},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqFA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA","file":"Home.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div>\n      <div class=\"container\">\n        <div class=\"row\">\n          <div class=\"col-md-12 mt-5\">\n            <div v-if=\"!workOnName\" class=\"card border-top-none\">\n              <h1>Здравей, в момента не работиш върху нищо</h1>\n            </div>\n            <div v-if=\"workOnName\" class=\"card working border-top-none working alert-warning\">\n              <h1>В момента работиш върху - {{workOnName}}</h1>\n            </div>\n          </div>\n        </div>\n        <div class=\"row\">\n          <div class=\"col-md-3\">\n            <!-- Profile -->\n            <div class=\"card profile-widget\">\n              <div class=\"profile-widget-header\">\n                <img alt=\"image\" :src=\"user.image\" class=\"rounded-circle profile-widget-picture ml-3\">\n                <div class=\"profile-widget-items\">\n                  <div class=\"profile-widget-item\">\n                    <div class=\"profile-widget-item-label\">Проекти</div>\n                    <div class=\"profile-widget-item-value\">187</div>\n                  </div>\n                  <!-- <div class=\"profile-widget-item\">\n                    <div class=\"profile-widget-item-label\">Following</div>\n                    <div class=\"profile-widget-item-value\">2,1K</div>\n                  </div> -->\n                </div>\n              </div>\n              <div class=\"profile-widget-description pt-2 pb-0\">\n                <div class=\"profile-widget-name text-left\">{{user.name}} {{user.last_name}}</div>\n              </div>\n            </div>\n            <!-- Profile END -->\n            <!-- Options -->\n              <div class=\"card\">\n                  <div class=\"card-header\">\n                    <h4>Опции</h4>\n                  </div>\n                  <div class=\"card-body\">\n                    <ul class=\"nav nav-pills flex-column\">\n                      <li @click=\"ProjectCreate = false, home = true, opened = false\" class=\"text-left nav-item\"><a href=\"#\" class=\"nav-link\" :class=\"{'active': home}\" >Начало</a></li>\n                      <li @click=\"ProjectCreate = true, home = false, opened = false\" class=\"text-left nav-item\"><a :class=\"{'active': ProjectCreate}\" class=\"nav-link\">Добави нова проект</a></li>\n                      <li class=\"text-left nav-item\"><a href=\"#\" class=\"nav-link\">Настройки на профила</a></li>\n                    </ul>\n                  </div>\n              </div>\n            <!-- Options END -->\n          </div>\n          <div class=\"col-md-9\" style=\"padding-top: 33px\">\n\n            <div v-if=\"home\" class=\"projects\">\n              <div class=\"row\">\n                <div v-for=\"(project, i) in projects\" :key=\"i\" class=\"col-md-6\">\n                  <div class=\"card card-primary\">\n                    <div class=\"card-header\">\n                      <h4>{{project.name}}</h4>\n                      <div class=\"card-header-action\">\n                        <button @click=\"projectID = i, opened = true, home = false\" class=\"btn btn-primary\">\n                          Отвори\n                        </button>\n                      </div>\n                    </div>\n                    <div class=\"card-body text-left\">\n                      <p>{{project.description}}</p>\n                      <!-- Progress -->\n                      <Progress :tasks=\"project.tasks\"/>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            <ProjectCreate v-if=\"ProjectCreate\" />\n\n            <Project v-if=\"opened\" :id=\"projectID\" :workingID=\"workOnID\" :workStatus=\"workStatus\"/>\n\n          </div>\n        </div>\n      </div>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios'\nimport { fb } from '../firebase'\nimport { bus } from '../main'\nimport ProjectCreate from '../components/HelloWorld.vue'\nimport Project from '../components/Project.vue'\nimport Progress from '../components/Progress.vue'\n\nexport default {\n  components: {\n    ProjectCreate,\n    Project,\n    Progress\n  },\n  data() {\n    return {\n      workOnID: null,\n      workStatus: null,\n      workOnName: '',\n      projectID: '',\n      userID: '',\n      user: '',\n      home: true,\n      ProjectCreate: false,\n      settings: false,\n      projects: '',\n      opened: false,\n    }\n  },\n  computed: {\n    status() {\n      return this.$store.state.status\n    }\n  },\n  watch: {\n    async status() {\n\n      let status = this.status.status\n      let projectID = this.status.projectID\n\n      if (status == 'start') {\n        let res = await axios.get(`https://manager-47e61-default-rtdb.firebaseio.com/projects/${projectID}.json`);\n        this.workOnName = res.data.name\n        this.workOnID = this.status.projectID\n        this.workStatus = status\n      } else if (status == 'pause') {\n        this.workOnName = ''\n        this.workOnID = null\n        this.workStatus = status\n      } else if (status == 'finished') {\n        let finished = []\n        finished.push(projectID)\n        console.log(finished);\n      }\n\n    }\n  },\n  methods: {\n    async userInfo() {\n      let res = await axios.get(`https://manager-47e61-default-rtdb.firebaseio.com/users/${this.userID}.json`)\n      this.user = res.data\n    },\n    async fetchProjects() {\n      let res = await axios.get(`https://manager-47e61-default-rtdb.firebaseio.com/projects.json`)\n      this.projects = res.data\n      this.ProjectCreate = false\n      this.home = true\n    },\n    async showProjects() {\n      let res = await axios.get(`https://manager-47e61-default-rtdb.firebaseio.com/projects.json`)\n      this.projects = res.data\n    }\n  },\n  async created() {\n    await fb.auth().onAuthStateChanged( user => {\n      if (user) {\n        this.userID = user.uid\n        this.userInfo();\n      }\n    })\n    bus.$on('update', () => {this.fetchProjects()})\n    bus.$on('reload', () => {this.showProjects()})\n    this.fetchProjects();\n\n  },\n\n  // Predpolagam shte izlezesh s nqkoe momche i shte mi kajesh\n  // I az shte te pitam kak e minalo i ti shte mi otgovorish 'mi normalno'\n  // Az shte te pitam shte izl li pak s nego i ti shte mi kajesh 'mi nz'\n  // Tova go napisax na 10 qnuari  v 23:41\n\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.nav-item {\n  cursor: pointer;\n}\n.card {\n  &.border-top-none {\n    border-top: 0;\n    height: 70px;\n    background-color: #6777ef;\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: center;\n\n    h1 {\n      color: #fff;\n      font-size: 18px;\n      margin: 0;\n    }\n    &.working {\n      background-color: #ffa426;\n    }\n  }\n}\n\n</style>"]}]}